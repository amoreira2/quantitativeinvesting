
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Returns &#8212; Quantitative Investing</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/book.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <link rel="canonical" href="https://amoreira2.github.io/quantitativeinvesting/chapters/Finance/Notebook3-Copy1.html" />
    <link rel="shortcut icon" href="../../_static/figuremain2.jpg"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      <img src="../../_static/figuremain2.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Quantitative Investing</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../01/what-is-quant-investing.html">
   1. What is Quantitative Investing?
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/statistical-techniques.html">
     1.1. Statistical Techniques
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/computational-tools.html">
     1.2. Computational tools
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../01/Finance.html">
     1.3. Finance
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../02/getting_started.html">
   2. Getting Started
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/>
  <label for="toctree-checkbox-2">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/local_install.html">
     2.2.1. Local installation
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../02/cloud_setup.html">
     2.2.2. Cloud Setup
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../03/programming-in-python.html">
   3. First Steps with Python
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/>
  <label for="toctree-checkbox-3">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/1/Expressions.html">
     3.1. Expressions
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../03/2/Names.html">
     3.2. Names
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-4" name="toctree-checkbox-4" type="checkbox"/>
    <label for="toctree-checkbox-4">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../03/2/1/Growth.html">
       3.2.1. Example: Growth Rates
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../03/3/Calls.html">
     3.3. Call Expressions
    </a>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../04/Data_Types.html">
     3.4. Data Types
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-5" name="toctree-checkbox-5" type="checkbox"/>
    <label for="toctree-checkbox-5">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../04/1/Numbers.html">
       3.4.1. Numbers
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04/2/Strings.html">
       3.4.2. Strings
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../04/3/Comparison.html">
       3.4.3. Comparisons
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../05/Sequences.html">
     3.5. Sequences
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-6" name="toctree-checkbox-6" type="checkbox"/>
    <label for="toctree-checkbox-6">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../05/1/Arrays.html">
       3.5.1. Arrays
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../05/2/Ranges.html">
       3.5.2. Ranges
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../05/3/More_on_Arrays.html">
       3.5.3. More on Arrays
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../essentials/essentials.html">
   4. Python Essentials
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-7" name="toctree-checkbox-7" type="checkbox"/>
  <label for="toctree-checkbox-7">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../essentials/basics.html">
     4.1. Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../essentials/collections.html">
     4.2. Collections
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../essentials/control_flow.html">
     4.3. Flow control
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../essentials/functions.html">
     4.4. Functions
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../scientific/intro.html">
   5. Scientific Computing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-8" name="toctree-checkbox-8" type="checkbox"/>
  <label for="toctree-checkbox-8">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../scientific/numpy1.html">
     5.1. Numpy
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../scientific/plotting1.html">
     5.2. Plotting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../scientific/linear_algebra1.html">
     5.3. Linear algebra
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../scientific/randomness1.html">
     5.4. Randomness
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../pandas/workingwithdata.html">
   6. Working with Data
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-9" name="toctree-checkbox-9" type="checkbox"/>
  <label for="toctree-checkbox-9">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/intro.html">
     6.1. Introduction
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/basics.html">
     6.2. Pandas Basics
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/the_index.html">
     6.3. Indexing
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/data_clean.html">
     6.4. Cleaning data (opt)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/reshape.html">
     6.5. Reshape (opt)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/merge.html">
     6.6. Merge (opt)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/groupby.html">
     6.7. Group-by (opt)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/timeseries.html">
     6.8. Time-Series
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/matplotlib.html">
     6.9. Plotting (opt)
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="../pandas/storage_formats.html">
     6.10. Data Storage (opt)
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Notebook3.html">
   7. Asset Returns
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-10" name="toctree-checkbox-10" type="checkbox"/>
  <label for="toctree-checkbox-10">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Notebook3_TheChoiceofFrequency.html">
     7.1. The Choice of Frequency and Annualization of Returns
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Notebook4_PortfolioMath.html">
   8. Portfolio Math
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Notebook4_CapitalAllocationLine.html">
   9. Capital Allocation
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-11" name="toctree-checkbox-11" type="checkbox"/>
  <label for="toctree-checkbox-11">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="UsingAPI.html">
     9.1. Using APIs
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Notebook4_MeanVariance.html">
   10. Mean Variance Efficient Portfolios
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-12" name="toctree-checkbox-12" type="checkbox"/>
  <label for="toctree-checkbox-12">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Notebook4_CaseStudy.html">
     10.1. Case Study in International Diversification
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="LeverageandShorting.html">
     10.2. Leverage and Shorting
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Notebook5_Portfoliooptimizationwithconstraints.html">
     10.3. Portfolio Optimization with constraints
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Notebook5_EstimationUncertainty.html">
   11. Estimation Uncertainty and It's Implications for investing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Notebook6A_TradingStrategies.html">
   12. Trading Strategies
  </a>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Timing.html">
   13. Timing Strategies
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-13" name="toctree-checkbox-13" type="checkbox"/>
  <label for="toctree-checkbox-13">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Notebook6A_Volatilitytiming.html">
     13.1. Volatility Timing
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Notebook6B_crosssectionalequitystrategies.html">
   14. Cross-Sectional Equity Strategies
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-14" name="toctree-checkbox-14" type="checkbox"/>
  <label for="toctree-checkbox-14">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Notebook6B_Valueinvesting.html">
     14.1. Value
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="Notebook6B_Momentum.html">
     14.2. Momentum
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Evaluation.html">
   15. Evaluating a Trading Strategy
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-15" name="toctree-checkbox-15" type="checkbox"/>
  <label for="toctree-checkbox-15">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Econometrics.html">
     15.1. The Econometrics of Strategy Evalaution
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="outofsample.html">
     15.2. Out of Sample Analysis
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="Topics.html">
   16. Topics in Quantitative Investing
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-16" name="toctree-checkbox-16" type="checkbox"/>
  <label for="toctree-checkbox-16">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="Implementation.html">
     16.1. Strategy Implementation
    </a>
   </li>
  </ul>
 </li>
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="../additional/additional.html">
   17. Additional Statistics Material
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-17" name="toctree-checkbox-17" type="checkbox"/>
  <label for="toctree-checkbox-17">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../10/Sampling_and_Empirical_Distributions.html">
     17.1. Sampling and Empirical Distributions
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-18" name="toctree-checkbox-18" type="checkbox"/>
    <label for="toctree-checkbox-18">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../10/1/Empirical_Distributions.html">
       17.1.1. Empirical Distributions
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../10/2/Sampling_from_a_Population.html">
       17.1.2. Sampling from a Population
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../10/3/Empirical_Distribution_of_a_Statistic.html">
       17.1.3. Empirical Distibution of a Statistic
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../11/Testing_Hypotheses.html">
     17.2. Testing Hypotheses
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-19" name="toctree-checkbox-19" type="checkbox"/>
    <label for="toctree-checkbox-19">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../11/1/Assessing_Models.html">
       17.2.1. Assessing Models
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../11/2/Multiple_Categories.html">
       17.2.2. Multiple Categories
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../11/3/Decisions_and_Uncertainty.html">
       17.2.3. Decisions and Uncertainty
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../11/4/Error_Probabilities.html">
       17.2.4. Error Probabilities
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../13/Estimation.html">
     17.3. Estimation
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-20" name="toctree-checkbox-20" type="checkbox"/>
    <label for="toctree-checkbox-20">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../13/1/Percentiles.html">
       17.3.1. Percentiles
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../13/2/Bootstrap.html">
       17.3.2. The Bootstrap
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../13/3/Confidence_Intervals.html">
       17.3.3. Confidence Intervals
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../13/4/Using_Confidence_Intervals.html">
       17.3.4. Using Confidence Intervals
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../14/Why_the_Mean_Matters.html">
     17.4. Why the Mean Matters
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-21" name="toctree-checkbox-21" type="checkbox"/>
    <label for="toctree-checkbox-21">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../14/1/Properties_of_the_Mean.html">
       17.4.1. Properties of the Mean
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../14/2/Variability.html">
       17.4.2. Variability
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../14/3/SD_and_the_Normal_Curve.html">
       17.4.3. The SD and the Normal Curve
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../14/4/Central_Limit_Theorem.html">
       17.4.4. The Central Limit Theorem
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../14/5/Variability_of_the_Sample_Mean.html">
       17.4.5. The Variability of the Sample Mean
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../14/6/Choosing_a_Sample_Size.html">
       17.4.6. Choosing a Sample Size
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../15/Prediction.html">
     17.5. Prediction
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-22" name="toctree-checkbox-22" type="checkbox"/>
    <label for="toctree-checkbox-22">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../15/1/Correlation.html">
       17.5.1. Correlation
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../15/2/Regression_Line.html">
       17.5.2. The Regression Line
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../15/3/Method_of_Least_Squares.html">
       17.5.3. The Method of Least Squares
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../15/4/Least_Squares_Regression.html">
       17.5.4. Least Squares Regression
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../15/5/Visual_Diagnostics.html">
       17.5.5. Visual Diagnostics
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../15/6/Numerical_Diagnostics.html">
       17.5.6. Numerical Diagnostics
      </a>
     </li>
    </ul>
   </li>
   <li class="toctree-l2 has-children">
    <a class="reference internal" href="../16/Inference_for_Regression.html">
     17.6. Inference for Regression
    </a>
    <input class="toctree-checkbox" id="toctree-checkbox-23" name="toctree-checkbox-23" type="checkbox"/>
    <label for="toctree-checkbox-23">
     <i class="fas fa-chevron-down">
     </i>
    </label>
    <ul>
     <li class="toctree-l3">
      <a class="reference internal" href="../16/1/Regression_Model.html">
       17.6.1. A Regression Model
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../16/2/Inference_for_the_True_Slope.html">
       17.6.2. Inference for the True Slope
      </a>
     </li>
     <li class="toctree-l3">
      <a class="reference internal" href="../16/3/Prediction_Intervals.html">
       17.6.3. Prediction Intervals
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/chapters/Finance/Notebook3-Copy1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/amoreira2/Lectures"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/amoreira2/Lectures/issues/new?title=Issue%20on%20page%20%2Fchapters/Finance/Notebook3-Copy1.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/amoreira2/Lectures/main?urlpath=lab/tree/chapters/Finance/Notebook3-Copy1.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://pims.syzygy.ca/jupyter/hub/user-redirect/git-pull?repo=https://github.com/amoreira2/Lectures&urlpath=lab/tree/Lectures/chapters/Finance/Notebook3-Copy1.ipynb&branch=main"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/amoreira2/Lectures/blob/main/chapters/Finance/Notebook3-Copy1.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#distribution-of-returns">
   Distribution of Returns
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-does-value-weighted-mean">
     What does value weighted mean?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mean-and-standard-deviation">
     Mean and Standard Deviation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#random-variables">
     Random variables
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-is-a-probability-distribution">
     What is a probability distribution?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#moments">
     Moments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sample-moments">
     Sample moments
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#are-returns-normal">
     Are returns normal?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#the-normal-distribution">
     The Normal distribution
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#what-is-a-return">
     What is a return?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#how-to-evaluate-whether-returns-are-normal">
     How to evaluate whether returns are normal?
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#log-returns-also-called-continously-compounded-returns-and-simple-returns">
     Log returns (also called continously compounded returns) and Simple returns
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#log-returns">
       Log returns
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-to-go-back-and-fourth-between-log-and-simple-returns">
       How to go back and fourth between log and simple returns?
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#why-we-might-care-about-deviations-from-normality">
       Why we might care about deviations from normality?
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#risk-variances-and-covariances">
   Risk, Variances, and Covariances
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#volatility-and-variance">
     Volatility and Variance
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#but-what-risk-should-you-care-about-what-stock-should-be-risky-for-you">
   But what risk should you care about? What stock should be risky for you?
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#excess-returns-and-risk-premiums">
   Excess returns and risk-premiums
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="returns">
<h1>Returns<a class="headerlink" href="#returns" title="Permalink to this headline">¶</a></h1>
<p>I this section we define what are returns, which is the key variable of analysis in finance (and this class)</p>
<hr class="docutils" />
<ul class="simple">
<li><p>Return distributions and moments of a return distribution</p></li>
<li><p>Annualization of returns</p></li>
<li><p>Log returns</p></li>
<li><p>Excess returns and risk premiums</p></li>
<li><p>Variances and Covariances</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="c1">#GlobalFinMonthly</span>
<span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://www.dropbox.com/s/3k35mt3t57ygff2/GlobalFinMonthly.csv?dl=1&quot;</span>
<span class="n">Data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">url</span><span class="p">,</span><span class="n">na_values</span><span class="o">=-</span><span class="mi">99</span><span class="p">)</span>
<span class="c1"># tell python Date is date:</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">]</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">Data</span><span class="p">[</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>
<span class="c1"># set an an index</span>
<span class="n">Data</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">set_index</span><span class="p">([</span><span class="s1">&#39;Date&#39;</span><span class="p">])</span>

<span class="n">Data</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
DatetimeIndex: 647 entries, 1963-02-28 to 2016-12-31
Data columns (total 6 columns):
 #   Column            Non-Null Count  Dtype  
---  ------            --------------  -----  
 0   RF                647 non-null    float64
 1   MKT               647 non-null    float64
 2   USA30yearGovBond  647 non-null    float64
 3   EmergingMarkets   647 non-null    float64
 4   WorldxUSA         647 non-null    float64
 5   WorldxUSAGovBond  646 non-null    float64
dtypes: float64(6)
memory usage: 35.4 KB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RF</th>
      <th>MKT</th>
      <th>USA30yearGovBond</th>
      <th>EmergingMarkets</th>
      <th>WorldxUSA</th>
      <th>WorldxUSAGovBond</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1963-02-28</th>
      <td>0.0023</td>
      <td>-0.0215</td>
      <td>-0.001878</td>
      <td>0.098222</td>
      <td>-0.002773</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1963-03-31</th>
      <td>0.0023</td>
      <td>0.0331</td>
      <td>0.003342</td>
      <td>0.014149</td>
      <td>0.000371</td>
      <td>0.001913</td>
    </tr>
    <tr>
      <th>1963-04-30</th>
      <td>0.0025</td>
      <td>0.0476</td>
      <td>-0.001843</td>
      <td>-0.147055</td>
      <td>-0.003336</td>
      <td>0.008002</td>
    </tr>
    <tr>
      <th>1963-05-31</th>
      <td>0.0024</td>
      <td>0.0200</td>
      <td>-0.001807</td>
      <td>-0.012172</td>
      <td>-0.000186</td>
      <td>0.004689</td>
    </tr>
    <tr>
      <th>1963-06-30</th>
      <td>0.0023</td>
      <td>-0.0177</td>
      <td>0.001666</td>
      <td>-0.055699</td>
      <td>-0.011160</td>
      <td>0.003139</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="section" id="distribution-of-returns">
<h2>Distribution of Returns<a class="headerlink" href="#distribution-of-returns" title="Permalink to this headline">¶</a></h2>
<p>Lets start by looking at the moments of the distribution of returns for the “market” portfolio</p>
<p>This is really the portfolio of all the stocks listed in the United States</p>
<p>To be more precise, it is the value-weighted basket of these stocks</p>
<div class="section" id="what-does-value-weighted-mean">
<h3>What does value weighted mean?<a class="headerlink" href="#what-does-value-weighted-mean" title="Permalink to this headline">¶</a></h3>
<div class="math notranslate nohighlight">
\[w_{i,t}=\frac{Price_{i,t}*NShares_{i,t}}{\sum_{i=1}^I Price_{i,t}*NShares_{i,t}}\]</div>
<p>What is <span class="math notranslate nohighlight">\(i\)</span> and <span class="math notranslate nohighlight">\(I\)</span>?</p>
</div>
<div class="section" id="mean-and-standard-deviation">
<h3>Mean and Standard Deviation<a class="headerlink" href="#mean-and-standard-deviation" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># looking at it&#39;s mean</span>
<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;MKT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># what does this number mean?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.9051777434312205
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># looking at the market standard deviation</span>

<span class="n">Data</span><span class="p">[</span><span class="s1">&#39;MKT&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">std</span><span class="p">()</span><span class="o">*</span><span class="mi">100</span>

<span class="c1"># what does this number mean?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>4.400314890674189
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># to have a sense of what that means lets look at the histgram of the distribution of returns</span>

<span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">*</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>

<span class="c1"># what do we see?</span>

<span class="c1"># # centered around the mean, the amount of variation around the center is captured by the standard deviation</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x272130fc760&gt;
</pre></div>
</div>
<img alt="../../_images/Notebook3-Copy1_9_1.png" src="../../_images/Notebook3-Copy1_9_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mf">0.9</span><span class="o">-</span><span class="mi">22</span><span class="p">)</span><span class="o">/</span><span class="mf">4.4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>-4.795454545454545
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x272131fde20&gt;
</pre></div>
</div>
<img alt="../../_images/Notebook3-Copy1_11_1.png" src="../../_images/Notebook3-Copy1_11_1.png" />
</div>
</div>
</div>
<div class="section" id="random-variables">
<h3>Random variables<a class="headerlink" href="#random-variables" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>We think of the return realization, the numbers plotted above, as a random variable, i.e., a variable that we are uncertain about it’s realization.</p></li>
<li><p>Random variable is any thing that we don’t known</p>
<ul>
<li><p>Outcome of dice throw, value of stock market in the end of the day, …</p></li>
<li><p>For example a dice outcome is a random variables with the following possible outcomes: (1,2,3,4,5,6)</p></li>
</ul>
</li>
<li><p>This uncertainty is fully described by the probability distribution associated with the random variable.</p></li>
</ul>
</div>
<div class="section" id="what-is-a-probability-distribution">
<h3>What is a probability distribution?<a class="headerlink" href="#what-is-a-probability-distribution" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>A probability distribution describes the probability that each outcome is realized.</p></li>
<li><p>It can be described by a Probability Density Function (pdf).</p></li>
<li><p>For example, the pdf of a dice is (1,1/6) ,(2,1/6), (3,1/6), (4,1/6), (5,1/6), (6,1/6)</p></li>
<li><p>It can also be described by the Cumulative Density Function(cdf)</p></li>
<li><p>For a example, the cdf of a dice is (1,1/6) ,(2,2/6), (3,3/6), (4,4/6), (5,5/6), (6,6/6)</p></li>
<li><p>A pdf or cdf fully describes the uncertainty we have with respect to a particular random variable</p></li>
<li><p>Random variable is any thing that we don’t known</p></li>
<li><p>Outcome of dice throw, value of stock market in the end of the day, …</p></li>
</ul>
</div>
<div class="section" id="moments">
<h3>Moments<a class="headerlink" href="#moments" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>One way to summarize the information in a probability distribution is the moments</p></li>
<li><p>Mean or expected value <span class="math notranslate nohighlight">\(E[𝑥]=∑𝑥_𝑖 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span>  𝑜𝑟 <span class="math notranslate nohighlight">\(∫𝑥𝑓(𝑥)𝑑𝑥\)</span>  often uses µ as symbol</p></li>
<li><p>The Variance <span class="math notranslate nohighlight">\(𝑣𝑎𝑟(𝑥)= ∑(𝑥_𝑖−𝐸[𝑥])^2 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span>    𝑜𝑟 <span class="math notranslate nohighlight">\(∫(𝑥_𝑖−𝐸[𝑥])^2 𝑓(𝑥)𝑑𝑥 \)</span></p>
<ul>
<li><p>(Standard deviation <span class="math notranslate nohighlight">\(std(x)= \sqrt{𝑣𝑎𝑟(𝑥)}\)</span>)</p></li>
<li><p>measures average variability around the mean across successive drawings of x.</p></li>
<li><p>often use 𝜎 as a symbol for standard deviation and <span class="math notranslate nohighlight">\(𝜎^2\)</span> for variance</p></li>
</ul>
</li>
<li><p>Skewness <span class="math notranslate nohighlight">\(𝑠𝑘𝑒𝑤(𝑥)= ∑(𝑥_𝑖−𝐸[𝑥])^3 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span> 𝑜𝑟 <span class="math notranslate nohighlight">\(∫(𝑥_𝑖−𝐸[𝑥])^3 𝑓(𝑥)𝑑𝑥\)</span></p>
<ul>
<li><p>Measures asymmetry in the distribution</p></li>
</ul>
</li>
<li><p>Kurtosis <span class="math notranslate nohighlight">\(𝑘𝑢𝑟𝑡(𝑥)= ∑(𝑥_𝑖−𝐸[𝑥])^4 𝑃𝑟𝑜𝑏(𝑥=𝑥_𝑖 )\)</span> 𝑜𝑟 <span class="math notranslate nohighlight">\(∫(𝑥_𝑖−𝐸[𝑥])^4 𝑓(𝑥)𝑑𝑥\)</span></p>
<ul>
<li><p>Measures how fat the tails are</p></li>
</ul>
</li>
<li><p>Higher order moments…</p></li>
<li><p>Observation: with enough moments you can represent any distribution, but in practice you only need a few</p>
<ul>
<li><p>for example for the normal distribution you only need the first two: Expected value and variance!</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="sample-moments">
<h3>Sample moments<a class="headerlink" href="#sample-moments" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Moments are  <strong>never</strong> truly known in real data</p></li>
<li><p>Must be always estimated from some sample of the data</p></li>
<li><p>We would like to know the “population” moments, i.e., the moments that describe how the population is generated</p></li>
<li><p>For example to get the expected return on the market, i.e. it’s population mean, we use the sample mean</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\overline{R_{MKT}}=\frac{\sum_{t=1}^TR_{MKT}}{T}\]</div>
<ul class="simple">
<li><p>where T is the sample size</p></li>
<li><p>we also call the sample average</p></li>
<li><p>Note that each observation in the sample is weighted  equally by the frequency of the <strong>realized</strong> observations</p></li>
<li><p>For population means they are weighted by the <strong>expected</strong> frequency, i.e. the probabilities</p></li>
</ul>
</div>
<div class="section" id="are-returns-normal">
<h3>Are returns normal?<a class="headerlink" href="#are-returns-normal" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Most of what we do does not depend on the assumption of normality</p></li>
<li><p>But normal distributions are very useful in statistical tests</p></li>
<li><p>And they are also not a bad approximation for return data at low frequency (monthly/year)</p></li>
</ul>
</div>
<div class="section" id="the-normal-distribution">
<h3>The Normal distribution<a class="headerlink" href="#the-normal-distribution" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Probability that any random draw form a Normal distribution random variable <span class="math notranslate nohighlight">\(\tilde{x}\)</span> is within <span class="math notranslate nohighlight">\(n=1\)</span> standard deviation from the mean is 0.6826</p></li>
</ul>
<div class="math notranslate nohighlight">
\[Prob(E[\tilde{x}]-n\sigma(\tilde{x})\leq \tilde{x}\leq E[\tilde{x}]+n\sigma(\tilde{x}))|_{n=1})=0.6826\]</div>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\(n=2,Prob(\cdot)=0.9550\)</span></p></li>
<li><p>it is convenient to to transform a normally distributed r.v. into units of standard deviations from it’s mean</p></li>
</ul>
<div class="math notranslate nohighlight">
\[\tilde{z}=\frac{\tilde{x}-E[\tilde{x}]}{\sigma(\tilde{x})}\]</div>
<ul class="simple">
<li><p>This follows the “standard” normal distribution, which has mean 0 and and standard deviation 1</p></li>
<li><p>can you show that is indeed the case that z has mean zero and standard devaiton 1?</p></li>
<li><p>This means that the normal distribution is completely characterized by it’s first two moments</p></li>
<li><p>This means that the investment problem is much more tractable too!</p></li>
<li><p>Only two moments to worry about:</p>
<ul>
<li><p>The expected return of the portfolio</p></li>
<li><p>it’s variance</p></li>
<li><p>The probability of really bad tail events will follow immediately from these two!</p></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="what-is-a-return">
<h3>What is a return?<a class="headerlink" href="#what-is-a-return" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>So we know what the normal distribution is</p></li>
<li><p>but what exactly is a return?</p></li>
<li><p>Lets say you paid <span class="math notranslate nohighlight">\(𝑃_𝑡\)</span> in date <span class="math notranslate nohighlight">\(t\)</span> for a stock</p></li>
<li><p>In date <span class="math notranslate nohighlight">\(t+1\)</span> the price is <span class="math notranslate nohighlight">\(𝑃_{𝑡+1}\)</span>  and you earn some dividend as well <span class="math notranslate nohighlight">\(𝐷_{𝑡+1}\)</span></p></li>
<li><p>Then we say that your return is</p></li>
</ul>
<div class="math notranslate nohighlight">
\[𝑅_{𝑡+1}=\frac{𝑃_{𝑡+1}+𝐷_{𝑡+1}−𝑃_𝑡}{𝑃_𝑡}\]</div>
<ul class="simple">
<li><p>It is the gain you made, divided by how much you put in</p></li>
</ul>
<blockquote>
<div><p>Our data set Data contains these returns of buying an asset, earning any distributed dividends during the month, and then selling in the end of the month.</p>
</div></blockquote>
<blockquote>
<div><p>As we will see, the return on a portfolio is just a weighthed average of the returns of the individual assets</p>
</div></blockquote>
</div>
<div class="section" id="how-to-evaluate-whether-returns-are-normal">
<h3>How to evaluate whether returns are normal?<a class="headerlink" href="#how-to-evaluate-whether-returns-are-normal" title="Permalink to this headline">¶</a></h3>
<p>The standard approach is to look at higher moments.</p>
<p>Because the normal is entired descibed by the first two moments, looking at these higher moments can give us a clue if that is really true for the data at hand.</p>
<p>Here are a few:</p>
<ul>
<li><p>Skewness</p></li>
<li><p>Kurtosis</p></li>
<li><p>Frequency of extreme return realizations</p>
<ul class="simple">
<li><p>3 sigma events should almost never happen for a normal random variable</p></li>
<li><p>once every 500 periods</p></li>
</ul>
<div class="math notranslate nohighlight">
\[PROB(|R-E{R}|&gt;3\sigma(R))\]</div>
</li>
</ul>
<p>A nice thing to do is to simulate data generated by a normal with same sample mean and standard deviation as the normal, and compare it with the actual data</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># lets look at a simulation to see this more clearly</span>


<span class="n">mu</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">std</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">T</span><span class="o">=</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">X</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">std</span><span class="p">,</span><span class="n">T</span><span class="p">))</span>

<span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>


<span class="c1"># what happens if we increase the mean?</span>

<span class="c1"># what happens if we increase the standard deviation?</span>

<span class="c1"># for the same standard mean and standard deviation what do you notice when you compare the real data and the simulated data?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x27214d222e0&gt;
</pre></div>
</div>
<img alt="../../_images/Notebook3-Copy1_22_1.png" src="../../_images/Notebook3-Copy1_22_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To evaluate how close a distribution is to the normal distribution we typically look at</span>

<span class="c1"># skewness</span>

<span class="p">[</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">skew</span><span class="p">(),</span> <span class="n">X</span><span class="o">.</span><span class="n">skew</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-0.5053783766354294, -0.11814774419178325]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To evaluate how close a distribution is to the normal distribution we typically look at</span>

<span class="c1"># kurtosis</span>
<span class="p">[</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(),</span><span class="n">X</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[1.9881305187934846, 0.2796480959378349]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># To evaluate how close a distribution is to the normal distribution we typically look at</span>

<span class="c1"># how many observations in the read data is below several number of standard devations of the mean</span>
<span class="n">X</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">std</span><span class="p">,</span><span class="n">T</span><span class="p">))</span>
<span class="n">threshold</span><span class="o">=</span><span class="mi">4</span>
<span class="c1"># counts for the real data</span>
<span class="n">A</span><span class="o">=</span><span class="p">((</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">-</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">&lt;-</span><span class="n">threshold</span><span class="o">*</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="c1"># counts for simulated data (which we know it is normal!)</span>
<span class="n">B</span><span class="o">=</span><span class="p">((</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">&lt;-</span><span class="n">threshold</span><span class="o">*</span><span class="n">X</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>

<span class="p">[</span><span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span><span class="n">B</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[2, 0]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">kurt</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1000</span><span class="p">):</span>
    <span class="n">X</span><span class="o">=</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span><span class="n">std</span><span class="p">,</span><span class="n">T</span><span class="p">))</span>
    <span class="n">kurt</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">=</span><span class="n">X</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">()</span>
    


<span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">kurt</span><span class="p">)</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">bins</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x2721502f250&gt;
</pre></div>
</div>
<img alt="../../_images/Notebook3-Copy1_26_1.png" src="../../_images/Notebook3-Copy1_26_1.png" />
</div>
</div>
</div>
<div class="section" id="log-returns-also-called-continously-compounded-returns-and-simple-returns">
<h3>Log returns (also called continously compounded returns) and Simple returns<a class="headerlink" href="#log-returns-also-called-continously-compounded-returns-and-simple-returns" title="Permalink to this headline">¶</a></h3>
<div class="section" id="log-returns">
<h4>Log returns<a class="headerlink" href="#log-returns" title="Permalink to this headline">¶</a></h4>
<p>Insight: If innovations in log returns are iid then, log returns at long enough horizons must be normal (Central Limit Theorem)</p>
<div class="math notranslate nohighlight">
\[\begin{split}1+𝑅_{1→𝑇}=((1+𝑅_1 )(1+𝑅_2 )…(1+𝑅_𝑇))⁡\\
ln⁡(1+𝑅_{1→𝑇} )=ln⁡((1+𝑅_1 )(1+𝑅_2 )…(1+𝑅_𝑇 ))\\
ln⁡(1+𝑅_{1→𝑇} )=ln⁡(1+𝑅_1 )+ln⁡(1+𝑅_2 )+…+ln⁡(1+𝑅_𝑇 )\\
                    𝑟_{1→𝑇}=𝑟_1+𝑟_2+…+𝑟_𝑇 \end{split}\]</div>
<ul class="simple">
<li><p>Thus, if T is large, <span class="math notranslate nohighlight">\(𝑟_{1→𝑇}\)</span> will be approximately normally distributed. (central limit theorem)</p></li>
<li><p><span class="math notranslate nohighlight">\(𝑟_𝑡=ln⁡(1+𝑅_𝑡 )\)</span> is the rate of return assuming continuous compounding for the period t.</p></li>
<li><p>This turns out to hold up well if you look at horizons longer than a month, but does not work at all at daily frequency (much fatter left tail than the normal distribution predicts)</p></li>
<li><p>Log returns are also very convenient when thinking about long-term investing</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="p">)</span><span class="o">.</span><span class="n">skew</span><span class="p">(),</span><span class="n">X</span><span class="o">.</span><span class="n">skew</span><span class="p">()])</span>

<span class="nb">print</span><span class="p">([</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="p">)</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">(),</span><span class="n">X</span><span class="o">.</span><span class="n">kurtosis</span><span class="p">()])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[-0.7707864524331097, -0.10212480191113225]
[2.859221702344219, -0.17043746558020745]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="how-to-go-back-and-fourth-between-log-and-simple-returns">
<h4>How to go back and fourth between log and simple returns?<a class="headerlink" href="#how-to-go-back-and-fourth-between-log-and-simple-returns" title="Permalink to this headline">¶</a></h4>
<p>Let R be a simple net return per period, i.e., if you invest 10 , you get 10(1+R) in the end of the period</p>
<p>R is a number like 5% (0.05)</p>
<p>We say 1+R, a number like 1.05 is a gross return.</p>
<p>Why gross? Because it includes 1, your initial investment.</p>
<ul class="simple">
<li><p>To get log returns: <span class="math notranslate nohighlight">\(r=log(1+R)\)</span></p></li>
<li><p>To get back simple returns: <span class="math notranslate nohighlight">\(R=exp(r)-1\)</span></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">r</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="p">)</span>
<span class="n">R</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
<span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">R</span><span class="p">,</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MKT</th>
      <th>MKT</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1963-02-28</th>
      <td>-0.0215</td>
      <td>-0.0215</td>
    </tr>
    <tr>
      <th>1963-03-31</th>
      <td>0.0331</td>
      <td>0.0331</td>
    </tr>
    <tr>
      <th>1963-04-30</th>
      <td>0.0476</td>
      <td>0.0476</td>
    </tr>
    <tr>
      <th>1963-05-31</th>
      <td>0.0200</td>
      <td>0.0200</td>
    </tr>
    <tr>
      <th>1963-06-30</th>
      <td>-0.0177</td>
      <td>-0.0177</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">threshold</span><span class="o">=</span><span class="mi">3</span>
<span class="c1"># now real data in log returns</span>

<span class="n">A</span><span class="o">=</span><span class="p">((</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">-</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">&lt;-</span><span class="n">threshold</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="n">B</span><span class="o">=</span><span class="p">((</span><span class="n">X</span><span class="o">-</span><span class="n">X</span><span class="o">.</span><span class="n">mean</span><span class="p">())</span><span class="o">&lt;-</span><span class="n">threshold</span><span class="o">*</span><span class="n">X</span><span class="o">.</span><span class="n">std</span><span class="p">())</span>
<span class="p">[</span><span class="n">A</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span><span class="n">B</span><span class="o">.</span><span class="n">sum</span><span class="p">()]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[4, 0]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="why-we-might-care-about-deviations-from-normality">
<h4>Why we might care about deviations from normality?<a class="headerlink" href="#why-we-might-care-about-deviations-from-normality" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="risk-variances-and-covariances">
<h2>Risk, Variances, and Covariances<a class="headerlink" href="#risk-variances-and-covariances" title="Permalink to this headline">¶</a></h2>
<p>In this section we will learn how to calculate the volatility of a portfolio and the covariance between portfolios, and use these concepts to help us understand if adding another portfolio is more risky or not.</p>
<div class="section" id="volatility-and-variance">
<h3>Volatility and Variance<a class="headerlink" href="#volatility-and-variance" title="Permalink to this headline">¶</a></h3>
<p>We know how to compute variance and what they are</p>
<div class="math notranslate nohighlight">
\[Data.MKT.std()=\sqrt{\sum_{t=1}^T\frac{(R_{MKT,t}-\overline{R_{MKT}})^2}{T}}\]</div>
<p>where <span class="math notranslate nohighlight">\(\overline{R_{MKT}}=\sum_{t=1}^T\frac{R_{MKT,t}}{T}\)</span> is the sample mean.</p>
<p>So for each series we get a number. We oftern refer to the standard deviation as the “vol” or the volatility of an asset.</p>
<p>Variance and volatility have the same content, but volatility is in the same unit as returns, and not square returns, so it easier (for me!) to have intuition about what it means.</p>
<p>For example, if the market has a vol of 30% per year, and if the market return is assumed to be normally distributed, I know that there is about a 2.5% probability that I will loose 60% of my investment by the end of the year!</p>
<p>So it is a great gauge of risk…at least at the portfolio level</p>
<p>But when thinking about a specific stock, it’s volatility means very little</p>
<p>Unless your entire portfolio is just that stock, you don’t really need to bear the stock risk–if you have 1% in a stock and the stock drops 20%, that is only 0.2% in your portfolio. You will not even notice the change.</p>
</div>
</div>
<div class="section" id="but-what-risk-should-you-care-about-what-stock-should-be-risky-for-you">
<h2>But what risk should you care about? What stock should be risky for you?<a class="headerlink" href="#but-what-risk-should-you-care-about-what-stock-should-be-risky-for-you" title="Permalink to this headline">¶</a></h2>
<p>The great insight from Harry Markowitz was to think of risk in terms of what the stock adds to your portfolio</p>
<p>Just like meat can be good for you if you are not eating any meat, it is terrible if you are eating a lot of it</p>
<p>What investors should care about is, just like eaters, their final diet. If a given stock brings a lot of what you already have, it will be bad for you, i.e., risky.</p>
<p>The way to measure this degree of commonality between your portfolio and this particular stock is the covariance</p>
<div class="math notranslate nohighlight">
\[Cov(R_{i,t},R_{j,t})={\sum_{t=1}^T\frac{(R_{i,t}-\overline{R_{i}})(R_{j,t}-\overline{R_{j}})}{T}}\]</div>
<p>The Covariance matrix of a set of stocks is the matrix where cell <span class="math notranslate nohighlight">\((i,j)\)</span> has the covariance between asset <span class="math notranslate nohighlight">\(i\)</span> and asset <span class="math notranslate nohighlight">\(j\)</span>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># here for two assets</span>
<span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;MKT&#39;</span><span class="p">,</span><span class="s1">&#39;WorldxUSA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">cov</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MKT</th>
      <th>WorldxUSA</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>MKT</th>
      <td>0.001936</td>
      <td>0.001255</td>
    </tr>
    <tr>
      <th>WorldxUSA</th>
      <td>0.001255</td>
      <td>0.002175</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>note that the diagonal cell <span class="math notranslate nohighlight">\((i,i)\)</span> has the covariance between asset <span class="math notranslate nohighlight">\(i\)</span> and asset <span class="math notranslate nohighlight">\(i\)</span>, which is just the variance of asset <span class="math notranslate nohighlight">\(i\)</span></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;MKT&#39;</span><span class="p">,</span><span class="s1">&#39;WorldxUSA&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">var</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>MKT          0.001936
WorldxUSA    0.002175
dtype: float64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RF</th>
      <th>MKT</th>
      <th>USA30yearGovBond</th>
      <th>EmergingMarkets</th>
      <th>WorldxUSA</th>
      <th>WorldxUSAGovBond</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1963-02-28</th>
      <td>0.0023</td>
      <td>-0.0215</td>
      <td>-0.001878</td>
      <td>0.098222</td>
      <td>-0.002773</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1963-03-31</th>
      <td>0.0023</td>
      <td>0.0331</td>
      <td>0.003342</td>
      <td>0.014149</td>
      <td>0.000371</td>
      <td>0.001913</td>
    </tr>
    <tr>
      <th>1963-04-30</th>
      <td>0.0025</td>
      <td>0.0476</td>
      <td>-0.001843</td>
      <td>-0.147055</td>
      <td>-0.003336</td>
      <td>0.008002</td>
    </tr>
    <tr>
      <th>1963-05-31</th>
      <td>0.0024</td>
      <td>0.0200</td>
      <td>-0.001807</td>
      <td>-0.012172</td>
      <td>-0.000186</td>
      <td>0.004689</td>
    </tr>
    <tr>
      <th>1963-06-30</th>
      <td>0.0023</td>
      <td>-0.0177</td>
      <td>0.001666</td>
      <td>-0.055699</td>
      <td>-0.011160</td>
      <td>0.003139</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2016-08-31</th>
      <td>0.0002</td>
      <td>0.0052</td>
      <td>-0.008417</td>
      <td>0.025186</td>
      <td>0.000838</td>
      <td>-0.009552</td>
    </tr>
    <tr>
      <th>2016-09-30</th>
      <td>0.0002</td>
      <td>0.0027</td>
      <td>-0.016417</td>
      <td>0.013153</td>
      <td>0.012736</td>
      <td>0.009979</td>
    </tr>
    <tr>
      <th>2016-10-31</th>
      <td>0.0002</td>
      <td>-0.0200</td>
      <td>-0.049460</td>
      <td>0.002474</td>
      <td>-0.020383</td>
      <td>-0.043476</td>
    </tr>
    <tr>
      <th>2016-11-30</th>
      <td>0.0001</td>
      <td>0.0487</td>
      <td>-0.081636</td>
      <td>-0.045971</td>
      <td>-0.019798</td>
      <td>-0.050359</td>
    </tr>
    <tr>
      <th>2016-12-31</th>
      <td>0.0003</td>
      <td>0.0185</td>
      <td>-0.005296</td>
      <td>0.002904</td>
      <td>0.034383</td>
      <td>-0.023207</td>
    </tr>
  </tbody>
</table>
<p>647 rows × 6 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Timestamp(&#39;1963-02-28 00:00:00&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RF</th>
      <th>MKT</th>
      <th>USA30yearGovBond</th>
      <th>EmergingMarkets</th>
      <th>WorldxUSA</th>
      <th>WorldxUSAGovBond</th>
    </tr>
    <tr>
      <th>Date</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1963-03-31</th>
      <td>0.0023</td>
      <td>0.0331</td>
      <td>0.003342</td>
      <td>0.014149</td>
      <td>0.000371</td>
      <td>0.001913</td>
    </tr>
    <tr>
      <th>1963-04-30</th>
      <td>0.0025</td>
      <td>0.0476</td>
      <td>-0.001843</td>
      <td>-0.147055</td>
      <td>-0.003336</td>
      <td>0.008002</td>
    </tr>
    <tr>
      <th>1963-05-31</th>
      <td>0.0024</td>
      <td>0.0200</td>
      <td>-0.001807</td>
      <td>-0.012172</td>
      <td>-0.000186</td>
      <td>0.004689</td>
    </tr>
    <tr>
      <th>1963-06-30</th>
      <td>0.0023</td>
      <td>-0.0177</td>
      <td>0.001666</td>
      <td>-0.055699</td>
      <td>-0.011160</td>
      <td>0.003139</td>
    </tr>
    <tr>
      <th>1963-07-31</th>
      <td>0.0027</td>
      <td>-0.0012</td>
      <td>0.003400</td>
      <td>0.088591</td>
      <td>0.007900</td>
      <td>0.001901</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2016-08-31</th>
      <td>0.0002</td>
      <td>0.0052</td>
      <td>-0.008417</td>
      <td>0.025186</td>
      <td>0.000838</td>
      <td>-0.009552</td>
    </tr>
    <tr>
      <th>2016-09-30</th>
      <td>0.0002</td>
      <td>0.0027</td>
      <td>-0.016417</td>
      <td>0.013153</td>
      <td>0.012736</td>
      <td>0.009979</td>
    </tr>
    <tr>
      <th>2016-10-31</th>
      <td>0.0002</td>
      <td>-0.0200</td>
      <td>-0.049460</td>
      <td>0.002474</td>
      <td>-0.020383</td>
      <td>-0.043476</td>
    </tr>
    <tr>
      <th>2016-11-30</th>
      <td>0.0001</td>
      <td>0.0487</td>
      <td>-0.081636</td>
      <td>-0.045971</td>
      <td>-0.019798</td>
      <td>-0.050359</td>
    </tr>
    <tr>
      <th>2016-12-31</th>
      <td>0.0003</td>
      <td>0.0185</td>
      <td>-0.005296</td>
      <td>0.002904</td>
      <td>0.034383</td>
      <td>-0.023207</td>
    </tr>
  </tbody>
</table>
<p>646 rows × 6 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># here for all the assets except the risk-free rate</span>

<span class="n">Data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">cov</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MKT</th>
      <th>USA30yearGovBond</th>
      <th>EmergingMarkets</th>
      <th>WorldxUSA</th>
      <th>WorldxUSAGovBond</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>MKT</th>
      <td>0.001936</td>
      <td>0.000104</td>
      <td>0.001280</td>
      <td>0.001255</td>
      <td>0.000182</td>
    </tr>
    <tr>
      <th>USA30yearGovBond</th>
      <td>0.000104</td>
      <td>0.001226</td>
      <td>-0.000211</td>
      <td>-0.000017</td>
      <td>0.000264</td>
    </tr>
    <tr>
      <th>EmergingMarkets</th>
      <td>0.001280</td>
      <td>-0.000211</td>
      <td>0.003544</td>
      <td>0.001651</td>
      <td>0.000243</td>
    </tr>
    <tr>
      <th>WorldxUSA</th>
      <td>0.001255</td>
      <td>-0.000017</td>
      <td>0.001651</td>
      <td>0.002175</td>
      <td>0.000419</td>
    </tr>
    <tr>
      <th>WorldxUSAGovBond</th>
      <td>0.000182</td>
      <td>0.000264</td>
      <td>0.000243</td>
      <td>0.000419</td>
      <td>0.000407</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Another way of looking at this is the correlation matrix, which normalizes the covariances by the volatility of each asset:</p>
<div class="math notranslate nohighlight">
\[Corr(R_{i,t},R_{j,t})={\frac{Cov(R_{i,t},R_{j,t})}{\sqrt{Var(R_{i,t})Var(R_{j,t})}}}\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>MKT</th>
      <th>USA30yearGovBond</th>
      <th>EmergingMarkets</th>
      <th>WorldxUSA</th>
      <th>WorldxUSAGovBond</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>MKT</th>
      <td>1.000000</td>
      <td>0.067779</td>
      <td>0.488753</td>
      <td>0.611369</td>
      <td>0.204491</td>
    </tr>
    <tr>
      <th>USA30yearGovBond</th>
      <td>0.067779</td>
      <td>1.000000</td>
      <td>-0.101321</td>
      <td>-0.010180</td>
      <td>0.373123</td>
    </tr>
    <tr>
      <th>EmergingMarkets</th>
      <td>0.488753</td>
      <td>-0.101321</td>
      <td>1.000000</td>
      <td>0.594653</td>
      <td>0.202565</td>
    </tr>
    <tr>
      <th>WorldxUSA</th>
      <td>0.611369</td>
      <td>-0.010180</td>
      <td>0.594653</td>
      <td>1.000000</td>
      <td>0.444938</td>
    </tr>
    <tr>
      <th>WorldxUSAGovBond</th>
      <td>0.204491</td>
      <td>0.373123</td>
      <td>0.202565</td>
      <td>0.444938</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<ul class="simple">
<li><p>What is noteworthy about these relationships?</p></li>
<li><p>What is safer for an US investor? US bond portfolio or World bond portfolio?</p></li>
<li><p>What is safer for an international investor? US bond portfolio or World bond portfolio?</p></li>
<li><p>Why did I drop the risk-free rate to make these calculations?</p></li>
<li><p>In what sense the rate of return of the risk-free rate is different from the rate of return of these other assets?</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">Data</span><span class="o">.</span><span class="n">corr</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>RF</th>
      <th>MKT</th>
      <th>USA30yearGovBond</th>
      <th>EmergingMarkets</th>
      <th>WorldxUSA</th>
      <th>WorldxUSAGovBond</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>RF</th>
      <td>1.000000</td>
      <td>-0.020509</td>
      <td>0.033045</td>
      <td>-0.018564</td>
      <td>0.000015</td>
      <td>0.073384</td>
    </tr>
    <tr>
      <th>MKT</th>
      <td>-0.020509</td>
      <td>1.000000</td>
      <td>0.067779</td>
      <td>0.488753</td>
      <td>0.611369</td>
      <td>0.204491</td>
    </tr>
    <tr>
      <th>USA30yearGovBond</th>
      <td>0.033045</td>
      <td>0.067779</td>
      <td>1.000000</td>
      <td>-0.101321</td>
      <td>-0.010180</td>
      <td>0.373123</td>
    </tr>
    <tr>
      <th>EmergingMarkets</th>
      <td>-0.018564</td>
      <td>0.488753</td>
      <td>-0.101321</td>
      <td>1.000000</td>
      <td>0.594653</td>
      <td>0.202565</td>
    </tr>
    <tr>
      <th>WorldxUSA</th>
      <td>0.000015</td>
      <td>0.611369</td>
      <td>-0.010180</td>
      <td>0.594653</td>
      <td>1.000000</td>
      <td>0.444938</td>
    </tr>
    <tr>
      <th>WorldxUSAGovBond</th>
      <td>0.073384</td>
      <td>0.204491</td>
      <td>0.373123</td>
      <td>0.202565</td>
      <td>0.444938</td>
      <td>1.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">RF</span><span class="o">*</span><span class="mi">12</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x272171451c0&gt;
</pre></div>
</div>
<img alt="../../_images/Notebook3-Copy1_48_1.png" src="../../_images/Notebook3-Copy1_48_1.png" />
</div>
</div>
</div>
<div class="section" id="excess-returns-and-risk-premiums">
<h2>Excess returns and risk-premiums<a class="headerlink" href="#excess-returns-and-risk-premiums" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>It is convenient to decompose the return earned in terms of what you earn due to</p>
<ol class="simple">
<li><p>compensation for waiting (time-value of money)</p></li>
<li><p>compensation for bearing risk (risk premium)</p></li>
</ol>
</li>
<li><p>To do the decomposition, we will do the following:</p>
<ul>
<li><p>We first define an “<b>excess return</b>”： the return minus the risk-free rate</p></li>
</ul>
</li>
</ul>
<div class="math notranslate nohighlight">
\[R_i^e=R_i-R_f\]</div>
<ul>
<li><p>We typically use the returns of a 3-month treasury bill to measure <span class="math notranslate nohighlight">\(R_f\)</span></p></li>
<li><p>So the excess return of the market is</p>
<div class="math notranslate nohighlight">
\[R^e_{MKT}=R_{MKT}-R_f\]</div>
</li>
<li><p>i.e. how much more I would get if I invested in the market instead of a short-term risk-free U.S. treasury bond</p></li>
<li><p>We call the Expected difference, the <b>Risk-Premium</b></p>
<div class="math notranslate nohighlight">
\[E[R_i^e]=E[R_i-R_f]\]</div>
</li>
<li><p>It is how much more you expect to get by investing in asset <span class="math notranslate nohighlight">\(i\)</span> instead of the risk-free asset</p></li>
<li><p>When asset <span class="math notranslate nohighlight">\(i\)</span> is the total market portfolio of US equities, we call this, the <b>Equity Risky Premium</b></p></li>
<li><p><b>Equity Risky Premium</b></p>
<div class="math notranslate nohighlight">
\[E[R_{MKT}^e]=E[R_{MKT}-R_f]\]</div>
</li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">-</span><span class="n">Data</span><span class="o">.</span><span class="n">RF</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.005140340030911903
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="n">Data</span><span class="o">.</span><span class="n">MKT</span><span class="o">-</span><span class="n">Data</span><span class="o">.</span><span class="n">RF</span><span class="p">)</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span><span class="o">*</span><span class="mi">12</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.06168408037094284
</pre></div>
</div>
</div>
</div>
<p>What does this mean?</p>
<p>Lets look at how much money one would have if they had invested 1 dollar in the market and kept reinvesting until the end of our sample</p>
<p>lets then compare with an investment in the risk-free rate</p>
<div class="math notranslate nohighlight">
\[(1+r_1)(1+r_2)....(1+r_T)\]</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="s1">&#39;MKT&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.axes._subplots.AxesSubplot at 0x272170afd30&gt;
</pre></div>
</div>
<img alt="../../_images/Notebook3-Copy1_53_1.png" src="../../_images/Notebook3-Copy1_53_1.png" />
</div>
</div>
<p>This means that someone that invested 1 dollar in the market in 63, would have 182 dollars today.</p>
<p>A tota return of 182/1-1=18,100%</p>
<p>If you invested in the risk-free rate you would have</p>
<p>12.5/1-1= 1,150% which is a bit above the inflation in this same period</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="s1">&#39;MKT&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">cumprod</span><span class="p">()</span><span class="o">.</span><span class="n">tail</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="n">Data</span><span class="p">[[</span><span class="s1">&#39;RF&#39;</span><span class="p">,</span><span class="s1">&#39;MKT&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">prod</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>RF      12.472682
MKT    181.954557
dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters/Finance"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Alan Moreira<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>